(this.webpackJsonpquotile=this.webpackJsonpquotile||[]).push([[0],{54:function(t,e,n){},55:function(t,e,n){"use strict";n.r(e);var o=n(0),c=n.n(o),a=n(8),i=n.n(a),r=n(12),s=n.n(r),u=n(22),l=n(7),d=n(13),j=n(23),b=n(2);var f=function(t){var e=t.generate,n=Object(j.useDoubleTap)((function(){return e()}));return Object(b.jsx)("div",Object(d.a)(Object(d.a)({id:"new-quote"},n),{},{children:Object(b.jsxs)("div",{id:"quote-box",children:[Object(b.jsx)("p",{id:"watermark",children:"QUOTILE"}),Object(b.jsx)("p",{id:"text"}),Object(b.jsx)("p",{id:"author",children:"..."})]})}))},h=n(9),O=n(24),p=n.n(O),v=n(5),m=n(6),x=n(25);var w=function(t){var e=t.quote,n="https://twitter.com/intent/tweet?hashtags=quotile&text=".concat(encodeURIComponent('"'.concat(null===e||void 0===e?void 0:e.content,'" \u2014  ').concat(null===e||void 0===e?void 0:e.author))),o=function(t){Object(m.b)(t,{type:"success"})},c=function(t){Object(m.b)(t,{type:"dark"})};return Object(b.jsxs)("div",{className:"controls",children:[Object(b.jsxs)("div",{id:"controls-container",children:[Object(b.jsx)("button",{className:"icon","data-tip":"Save as PNG",onClick:function(t){var e=document.querySelector(".main-frame");p.a.toPng(e,{quality:1,filter:function(t){return"controls-container"!==t.id&&"info"!==t.className},bgcolor:"#fefefe",width:720,height:720,style:e}).then((function(t){var e=document.createElement("a");e.download="quote.png",e.href=t,e.click(),o("Image download on progress. Please check your download folder.")})).catch((function(t){c("Error downloading image.")}))},id:"save-quote",children:Object(b.jsx)(v.c,{})}),Object(b.jsx)("a",{className:"icon","data-tip":"Tweet this quote",id:"tweet-quote",href:n,children:Object(b.jsx)(v.e,{})}),Object(b.jsx)("button",{className:"icon","data-tip":"Copy to clipboard",id:"copy-quote",onClick:function(){var t='"'.concat(null===e||void 0===e?void 0:e.content,'" \u2014').concat(null===e||void 0===e?void 0:e.author);navigator.clipboard.writeText(t).then((function(t){o("Copied to clipboard!")}),(function(){c("Error occured while copying to clipboard.")}))},children:Object(b.jsx)(v.a,{})}),Object(b.jsx)(x.a,{place:"bottom",type:"light",textColor:"#2522ca"})]}),Object(b.jsxs)("div",{className:"info",children:[Object(b.jsx)(v.b,{id:"info"}),Object(b.jsxs)("p",{children:["Double tap the quote ",Object(b.jsx)(v.d,{})," to generate new quote."]})]}),Object(b.jsx)(m.a,Object(h.a)({position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,closeButton:"false"},"pauseOnFocusLoss",!1))]})},g=n(3),k=n.n(g),q=n(10),y=n.n(q);n(53);var E=function(){var t=Object(o.useState)(!1),e=Object(l.a)(t,2),n=e[0],c=e[1],a=Object(o.useState)([]),i=Object(l.a)(a,2),r=i[0],d=i[1],j=Object(o.useState)({}),h=Object(l.a)(j,2),O=h[0],p=h[1],v=Object(o.useState)(0),m=Object(l.a)(v,2),x=m[0],g=m[1],q=Object(o.useCallback)(function(){var t=Object(u.a)(s.a.mark((function t(e){var n,o=arguments;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:y.a.CancelToken.source(),c(!1),t.next=4,y.a.get(e,{cancelToken:n.token}).then((function(t){return t.data.results})).then((function(t){d(t),c(!0),g(t.length+x),n.cancel()})).catch((function(t){console.log(t),n.cancel()}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[x]),E=Object(o.useCallback)((function(){var t=Math.floor(Math.random()*x),e=r[t],n=null===e||void 0===e?void 0:e.content.length;k()("#watermark").animate({opacity:0},500,(function(){k()(this).animate({opacity:1},500)}));var o=(null===e||void 0===e?void 0:e.content)||"";k()("#text").animate({opacity:0},500,(function(){k()(this).animate({opacity:1},500),k()(this).text(o)}));var c=(null===e||void 0===e?void 0:e.author)||"";k()("#author").animate({opacity:0},500,(function(){k()(this).animate({opacity:1},500),k()(this).text("\u2014 "+c)}));var a=r.filter((function(t){return t._id!==e._id}));p(e),d(a),g(a.length),setTimeout((function(){n>150?(k()("#text").css("font-size","1.4rem"),k()("#author").css("font-size","1rem"),k()("#watermark").css("font-size","1rem")):(k()("#text").css("font-size","1.8rem"),k()("#author").css("font-size","1.4rem"),k()("#watermark").css("font-size","1rem"))}),500)}),[r,x]);return Object(o.useEffect)((function(){var t=y.a.CancelToken.source();return n?k()("#watermark").text("QUOTILE"):(k()("#watermark").text(""),k()("#text").text("..."),k()("#author").text(""),q("http://quotable.io/quotes?limit=150?",t)),function(){t.cancel()}}),[n,q]),Object(o.useEffect)((function(){x<1&&c(!1)}),[x]),Object(o.useEffect)((function(){E()}),[n]),Object(b.jsxs)("div",{className:"main-frame",children:[Object(b.jsx)(f,{generate:E}),Object(b.jsx)(w,{quote:O})]})};n(54);window.addEventListener("load",(function(){window.location.protocol;var t=window.location.hostname;"localhost"===t?console.log("DEVELOPMENT MODE"):window.location.assign("https://"+t)})),i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(E,{})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.b522206a.chunk.js.map